<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Quản lý bài viết</title>
</head>
<body>
    <!-- Content Header (Page header) -->
    <section class="content-header">
        <h1>
            Trang quản trị danh sách các bài viết
            <small>Nơi quản lý tất cả các bài viết trên trang web</small>
        </h1>
        <ol class="breadcrumb">
            <li><a href="#"><i class="fa fa-dashboard"></i> Trang chủ</a></li>
            <li><a href="#">Bài viết</a></li>
            <li class="active">Danh sách bài viết</li>
        </ol>
    </section>
    <!-- Main content -->
    <section class="content">
        <!-- Default box -->
        <div class="box">
            <div class="box-header with-border">
                <h3 class="box-title">Danh sách bài viết</h3>
                <div class="box-tools pull-right">
                    <button type="button" class="btn btn-box-tool" data-widget="collapse" data-toggle="tooltip" title="Collapse">
                        <i class="fa fa-minus"></i>
                    </button>
                    <button type="button" class="btn btn-box-tool" data-widget="remove" data-toggle="tooltip" title="Remove">
                        <i class="fa fa-times"></i>
                    </button>
                </div>
            </div>
            <div class="box-body">
                <div class="row" style="margin-bottom:10px">
                    <div class="col-md-6">
                        <div class="input-group">
                            <input type="text" class="form-control" ng-model="keyWord" placeholder="Từ khóa">
                            <span class="input-group-btn">
                                <button class="btn btn-primary" ng-click="search()" type="button">Tìm kiếm</button>
                            </span>
                        </div><!-- /input-group -->
                    </div>
                    <div class="col-md-6">
                        <button class="btn btn-success" ui-sref="post_add">Thêm mới</button>
                        <button id="btnDelete" disabled class="btn btn-danger" ng-click="deleteMultiple()">Xóa bản ghi đã chọn</button>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12">
                        <table class="table table-bordered text-center">
                            <tr class="bg-info text-center">
                                <th>
                                    <input name="all" ng-click="selectAll()" ng-checked="$scope.isAll" type="checkbox" />
                                </th>
                                <th style="width: 3%">ID</th>
                                <th style="width: 15%">Danh mục</th>
                                <th style="width: 35%">Tên bài viết</th>    
                                <th style="width: 15%">Hình ảnh</th> 
                                <th style="width: 15%">Ngày tạo</th>
                                <th style="width: 7%">Trạng thái</th>
                                <th style="width: 10%">Thao tác</th>
                            </tr>
                            <tr ng-repeat="item in posts">
                                <td>
                                    <input type="checkbox" ng-model="item.checked" name="all" />
                                </td>
                                <td>{{item.ID}}</td>                            
                                <td><strong>{{item.PostCategory.Name}}</strong></td>
                                <td><a title="{{item.Description}}">{{item.Name}}</a></td>
                                <td>
                                    <img style="width:100%;" ng-src="{{item.Image}}" />                               
                                </td>
                                <td>
                                    {{item.CreatedDate | date : 'dd/MM/yyyy hh:mm:ss'}}
                                </td>
                                <td>
                                    <span ng-class="{'badge bg-red' : item.Status==false,'badge bg-green' : item.Status==true}">
                                        {{item.Status | StatusFilter}}
                                    </span>
                                </td>
                                <td>
                                    <a ui-sref="post_edit({id: item.ID})" class="btn btn-xs btn-info" title="Sửa"><i class="fa fa-edit"></i></a>
                                    <a ng-click="deletePost(item.ID)" class="btn btn-xs btn-danger" title="Xóa"><i class="fa fa-close"></i></a>
                                </td>
                            </tr>
                            <tfoot>
                                <tr>
                                    <td style ="text-align:left" colspan="8">Hiển thị {{pageRowCount}} trên tổng số {{totalCount}} bản ghi</td>
                                </tr>
                            </tfoot>
                        </table>
                    </div>
                </div>
            </div>
            <!-- /.box-body -->
            <div class="box-footer">
                <pager-directive page="{{page}}" custom-path="{{customPath}}" pages-count="{{pagesCount}}" total-count="{{totalCount}}" search-func="getPosts(page)"></pager-directive>
            </div>
            <!-- /.box-footer-->
        </div>
        <!-- /.box -->
    </section>
    <!-- /.content -->
</body>
</html>


